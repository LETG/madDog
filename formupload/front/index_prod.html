<!doctype html>
<html lang="fr" class="h-100">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="agathe.adam@jdev.fr">
    <title>MADDOG - Interface de saisie</title>
    <link rel="stylesheet" href="css/bootstrap-icons.css">
    <!-- Bootstrap v5.2.0 core CSS -->
    <link href="lib/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="css/form.css" rel="stylesheet">
    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
  </head>
  <body class="d-flex flex-column h-100">
    <!-- Contain -->
    <main class="flex-shrink-0">
      <div class="container" id="containerForm">
         <div class="row justify-content-between">
            <div class="col-8">
               <h1 class="mt-1 mb-4">Importer des données de suivi</h1>
            </div>
            <div class="col-2" style="text-align:end;">
               <h1><i class="bi bi-cloud-upload"></i></h1>
            </div>
         </div>        
        <form id="formSuivi" class="form needs-validation"  novalidate>
          <h3>Type de suivi</h3>
          <div class="row mb-4">
            <div class="mb-3">
              <label for="" class="form-label">Sélectionner un type de suivi :</label>
              <select id="measureType" class="form-select"  required>
                <option selected disabled value="">Sélectionner ...</option>
              </select>
              <div class="invalid-feedback">Veuillez sélectionner un type de suivi</div>
            </div>
          </div>
          <h3>Site d'étude</h3>
          <div class="row mb-4">
            <div class="mb-3 col-md-6">
              <label for="" class="form-label">Sélectionner un site d'étude :</label>
              <select id="codeSite" class="form-select" required>
                <option selected disabled value="">Sélectionner ...</option>
              </select>
              <div class="invalid-feedback">Veuillez sélectionner un site d'étude</div>
            </div>
            <div class="mb-3 col-md-6" id="selectProfilId" style="display: none;">
              <label for="" class="form-label">Sélectionner un profil de plage :</label>
              <select id="numProfil" class="form-select">
                <option selected disabled value="">Sélectionner ...</option>
              </select>
              <div class="invalid-feedback">Veuillez sélectionner un profil de plage</div>
            </div>
          </div>
          <h3>Informations sur le relevé</h3>
          <div class="row">
            <div class="mb-3 col-md-6">
              <label for="" class="form-label">Sélectionner un opérateur :</label>
              <select id="idOperator" class="form-select" required>
                <option selected disabled value="">Sélectionner ...</option>
              </select>
              <div class="invalid-feedback">Veuillez sélectionner un opérateur</div>
            </div>
            <div class="mb-3 col-md-6">
              <label for="" class="form-label">Sélectionner un équipement de relevé :</label>
              <select id="idEquipement" class="form-select" required>
                <option selected disabled value="">Sélectionner ...</option>
              </select>
              <div class="invalid-feedback">Veuillez sélectionner un équipement</div>
            </div>
          </div>
          <div class="row mb-4">
            <div class="mb-3 col-md-6">
              <label for="" class="form-label">Sélectionner une projection :</label>
              <select id="epsg" class="form-select" required>
                <option value="2154">EPSG:2154</option>
              </select>
            </div>
            <div class="mb-3 col-md-6">
              <label for="" class="form-label">Sélectionner une date :</label>
              <div class="input-group date" id="datepicker">
                <input id="surveyDate" class="form-control" type="date" required />
                <span id="startDateSelected"></span>
                <div class="invalid-feedback">Veuillez sélectionner une date</div>
              </div>
            </div>
          </div>
          <h3>Télécharger votre donnée</h3>
          <div class="row mb-4">
            <div class="mb-1">
              <label for="formFile" class="form-label">Sélectionner le fichier à importer :</label>
              <input class="form-control" type="file" id="csvFile" onchange="validationFormat()" required>
              <div class="invalid-feedback"></div>
            </div>
            <p class="fs-7">
              <i>Le fichier téléchargé doit être au format .csv (séparateur point-virgule)</i>
              <br><br><i>Il doit comporter :</i>
              <br><i>- une ligne d'entête : id;x;y;z;identifiant;date</i>
              <br><i>- le séparateur décimal est le point : 152028.848</i>
              <br><i>- le format de la date est AAAA-MM-JJ : 2004-07-05</i>
              <br> Télécharger des <a href="data/sample_files.zip" target="_blank">fichiers d'exemple</a>
            </p>
          </div>
          <div class="row mb-1 mt-4">
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
              <button type="button" class="btn" onclick="resetForm()">
                <i class="bi bi-arrow-clockwise"></i> Réinitialiser </button>
              <button type="submit" class="btn btn-primary">
                <i class="bi bi-box-arrow-up"></i> Télécharger </button>
            </div>
          </div>
        </form>
      </div>
      <div class="container">
        <div class="row mb-5">
          <div class="col-md-3">
            <img class="fit-picture" src="img/logo_Maddog.png" alt="Logo Maddog" style="width: 140px;">
          </div>
          <div class="col-md-9" style="text-align:end;">
            <span class="text-muted"> Un problème ? Contactez-nous par mail à <a href="mailto:maddog@indigeo.fr">maddog@indigeo.fr</a>
              <i class="bi bi-pause"></i> Accéder au <a href="https://portail.indigeo.fr/mviewer/?config=apps/maddog.xml#" target="_blank">visualiseur Maddog</a>
            </span>
          </div>
        </div>
      </div>
    </main>
    <script src="lib/jquery-3.6.0.min.js"></script>
    <script src="lib/bootstrap.bundle.min.js"></script>
    <script src="lib/wps-js-all.min.js"></script>
    <script src="js/form.js"></script>
    <script src="js/wps-form.js"></script>
  </body>
</html>
